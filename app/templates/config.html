{% extends "layout.html" %}

{% block title %}Device list{% endblock %}
{% block header %}
<h1>Device list</h1>

<p>Here are the devices we found in your network</p>

{% endblock %}

{% block content %}
    <form action="{{ url_for('update_config') }}" method="post">
        <fieldset>
        <legend>Blacklist</legend>
            <!-- Blacklist textarea -->
            <label for="blacklist">Blacklisting rules</label>
            <textarea name="blacklist_domains" rows="10" cols="30">
            {%- for domain in config["BLACKLIST_DOMAINS"] %}
{{ domain }}
            {%- endfor -%}
            </textarea>
        </fieldset>


        <fieldset>
        <legend>Functionalities</legend>
            <label for="checkbox_ip_blacklist"> Enable IP check in blacklists</label><br>
            <input type="checkbox" id="checkbox_ip_blacklist" name="enable_ip_blacklist" {% if config['ENABLE_BLACKLIST_QUERY'] %}  checked  {% endif %}>
        </fieldset>

        <fieldset>
        <legend>Alerts parameters</legend>
            <label for="time_window">Time window (in seconds):</label>
            <input type="number" id="time_window" name="time_window" min="1" max="3600" value="{{ config['TIME_WINDOW'] }}">
        </fieldset>
    <input type="submit" value="Save config">
    </form>
{% endblock %}